<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reading Portal</title>
  <link rel="stylesheet" href="base.css" />
  
  <!-- Load book-specific theme -->
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const bookName = urlParams.get("book");
    if (bookName) {
      const themeLink = document.createElement("link");
      themeLink.rel = "stylesheet";
      themeLink.href = `../books/${bookName}/theme.css`;
      document.head.appendChild(themeLink);
    }
  </script>
</head>
<body>
  <header class="chapter-header">
    <a href="#" class="back-link" id="back-to-toc">‚Üê Back to Contents</a>
    <h1 id="chapter-title">Loading...</h1>
  </header>
  <main class="chapter-container first-page">
    <div class="chapter-content"></div>
    <div id="glossary-popup-container" aria-live="polite"></div>
  </main>
  <footer class="nav-bar">
    <button id="prev">Previous</button>
    <span class="page-number">Page 1</span>
    <button id="next">Next</button>
  </footer>
  <script src="reader.js"></script>
  
  <!-- Handle dynamic back button -->
  <script>
    const backUrlParams = new URLSearchParams(window.location.search);
    const backBookName = backUrlParams.get("book");
    const backLink = document.getElementById("back-to-toc");
    if (backLink && backBookName) {
      backLink.href = `../books/${backBookName}/index.html`;
    } else {
      backLink.href = "teacher.html";
    }
  </script>
</body>
</html>
